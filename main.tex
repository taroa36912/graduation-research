\documentclass[12pt]{ujarticle}
\renewcommand{\abstractname}{Abstract}
\renewcommand{\contentsname}{Contents}
\renewcommand{\refname}{References}

\usepackage[dvipdfmx]{graphicx}
\usepackage[dvipdfmx, hidelinks]{hyperref}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{bm}
\usepackage{cleveref}
\usepackage{enumitem}

\usepackage{graphicx}
\graphicspath{{Tikz/Graphs/out/}}

\usepackage{amsthm}
\theoremstyle{plain}
\newtheorem{theorem}{Theorem}[subsection]
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{corollary}[theorem]{Corollary}
\theoremstyle{definition}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{example}[theorem]{Example}
\newtheorem{remark}[theorem]{Remark}


\setlength{\topmargin}{0truecm}

\newcommand{\TITLE}%
{Magnitude Homology of Graphs and the Magnitude as its Categorification}
%上のタイトルを書く
\newcommand{\STNO}%
{2264257}%学籍番号
\newcommand{\NAME}%
{Kensho Yachi}%氏名
\newcommand{\ADVR}%
{Yuta Nozaki Associate Professor}%指導教員

\newcommand{\DATE}%
{（January 30th, 2025）}%〆切




% 汎用コマンド
\newcommand{\tsum}{\text{sum}}
\newcommand{\tadj}{\text{adj}}
\newcommand{\aut}{\text{Aut}}





\begin{document}
\thispagestyle{empty}

\begin{center}
  2025 Yokohama National University, Faculty of Science and Engineering, Mathematical Science EP Graduation Research
  \vskip3cm
\end{center}



{\Large

\begin{center}
  %\LARGE
  \huge
  \textbf{\TITLE}
\end{center}

\vfill

\hfil
{\LARGE
\textbf{
\STNO\ \NAME}
}

\vskip 4mm
\hfil
{\large
\href{https://taro-ken.com}{https://taro-ken.com}
}

\vskip10Q
\begin{center}
  \textbf{Supervisor : \ADVR }
\end{center}


\hfil
\textbf{\DATE}

}


\vfill
\hfill
\begin{tabular}{|p{6zw}|p{6zw}|} \hline
   \hskip.5zw Supervisor's seal & \hskip1.5zw acceptance stamp \\ \hline
   & \\[2cm] \hline 
 
\end{tabular}



% Start of the main content
\newpage
\pagestyle{plain}
\setcounter{page}{1}


% Abstract
\begin{abstract}
Sample Abstract
\end{abstract}


% Table of Contents
\newpage
\tableofcontents


% Section 1
\newpage
\section{Introduction}
Lamport's guide to \LaTeX\ \cite{Lamport94}.


% Section 2
\newpage
\section{The Magnitude of Graphs}
In this section, we define the magnitude of a graph $G$ and the magnitude homology of a graph $G$, give some very basic examples and properties.
By a \textit{graph} we mean a finite undirected graph with no loops or multiple edges. The set of vertices of a graph $G$ is denoted by $V(G)$, and the set of edges of $G$ is denoted by $E(G)$. If $x$ and $y$ are vertices of a graph $G$, then the \textit{distance} $d_G(x,y)$ between $x$ and $y$ is defined to be the length of a shortest edge path from $x$ to $y$. If $x$ and $y$ lie in different components of $G$ then $d(x,y)=\infty$.
\subsection{The definition of the magnitude of Graphs}
Here, we difine the magnitude of a graph, which can be expressed as either a rational function over $\mathbb{Q}$ or a formal power series over $\mathbb{Z}$. Write $\mathbb{Z}[q]$ for the polynomial ring over the integers in one variable $q$ and $\mathbb{Z}[[q]]$ for the ring of formal power series over the integers in one variable $q$.

\begin{definition}
  Let $G$ be a graph. We define the \textit{$G$-matrix} $Z_G = Z_G(q)$ over $\mathbb{Z}[q]$ whose rows and columns are indexed by the vertices of $G$, and whose $(x,y)$-entry is given by
  \[
  Z_G(q)(x,y) = q^{d(x,y)} \quad (x,y \in V(G))
  \]
  where by convention $q^\infty = 0$.
  
\end{definition}

$G$-matrix is the square synmetric matrix.

\begin{proposition}\label{invertible}
  $G$-matrix is invertible.
\end{proposition}

\begin{proof}
  By definition, the determinant of $Z_G$ has constant term $1$, which implies that $\det Z_G \neq 0$.
\end{proof}

\begin{definition}
  The \textit{magnitude} of a graph $G$ is defined to be the rational function given by
  \[
  \# G(q) = \sum_{x,y \in V(G)} (Z_G(q))^{-1}(x,y)
  \]
  in the rational function field $\mathbb{Q}(q)$. 
\end{definition}

\begin{remark}
  \[
    \# G(q) = \tsum(Z_G(q)^{-1}) = \frac{\tsum(\tadj(Z_G(q)))}{\det(Z_G(q))}
  \]
  where $\tadj$ is the adjugate matrix and $\tsum$ is the sum of all entries of a matrix.
\end{remark}

\begin{proposition}
  $\# G(q)$ takes values in $\mathbb{Z}[[q]]$.
\end{proposition}

\begin{proof}
  Let $\det Z_G(q) = 1 - qf(q)$ for some $f(q) \in \mathbb{Z}[q]$ by \cref{invertible}. Then we have 
  \[
    \# G(q) = \frac{\tsum(\tadj(Z_G))}{\det(Z_G)} = \tsum(\tadj(Z_G)) \sum_{n=0}^{\infty} q^n f(q)^n
  \]
  Note that $qf(q)$ has no constant term and then $\sum_{n=0}^{\infty} q^n f(q)^n$ takes values in $\mathbb{Z}[[q]]$.
\end{proof}

\begin{example}
  Let $G = K_3$(complete graph with three vertices).
  ~

  \raisebox{-0.5\height}{\includegraphics{Tikz/Graphs/out/K_3.pdf}}
  Then, you can calculate the magnitude of $K_3$ as follows:
  \[
    Z_{K_3}(q) = \begin{pmatrix}
      1 & q & q \\
      q & 1 & q \\
      q & q & 1
    \end{pmatrix}, \quad
    Z_{K_3}(q)^{-1} = \frac{1}{1 - 3q^2 + 2q^3} \begin{pmatrix}
      1 - q^2 & -q + q^2 & -q + q^2 \\
      -q + q^2 & 1 - q^2 & -q + q^2 \\
      -q + q^2 & -q + q^2 & 1 - q^2
    \end{pmatrix},
  \]
  $ \#K_3(q) = \frac{3}{1+2q}$

\end{example}

\begin{definition}
  Let $G$ be a graph and $x \in V(G)$.
  The \textit{weight} of $x$ in $G$ is defined 
  \[
    w_G(x)(q) = \sum_{y \in V(G)}(Z_G(q))^{-1}(x,y)
  \]

  The function $w_G : V(G) \rightarrow \mathbb{Q}(q)$ is called the \textit{weighting} on $G$.
\end{definition}

The magnitude can be expressed using the weighting as follows:
\[
  \# G(q) = \sum_{x \in V(G)} w_G(x)
\]

\begin{lemma}\label{weighting equation}
  For any graph $G$, the weighting $w_G$ satisfies
  \[
    \sum_{y \in V(G)} q^{d(x,y)} w_G(y) = 1 \quad (x \in V(G))
  \]
\end{lemma}

\begin{proof}
  For any vertex $x \in V(G)$, we have 
  \[
  \begin{split}
    \sum_{y \in V(G)}q^{d(x,y)} w_G(y) &= \sum_{y,z \in V(G)}q^{d(x,y)}Z_G^{-1}(y,z) \\
    &= \sum_{y,z \in V(G)}Z_G(x,y)Z_G^{-1}(y,z) \\
    &= \sum_{z \in V(G)} \sum_{y \in V(G)}Z_G(x,y)Z_G^{-1}(y,z) \\
    &= \sum_{z \in V(G)}(Z_G Z_G^{-1})(x,z) \\
    &= \sum_{z \in V(G)}I(x,z) \\
    = 1.
  \end{split}
  \]
\end{proof}

This equation is called the \textit{weighting equation}.

\begin{lemma}\label{unique property on weighting equation}
  Let $G$ be a graph and $\tilde{w}_G : V(G) \rightarrow \mathbb{Q}$ be a function satisfying a weighting equation.
  Then, $\tilde{w}_G = w_G$. Now, $w_G$ is the weighting on $G$.
\end{lemma}

\begin{proof}
  Let $\bm{b} = (1, 1, \ldots, 1)^T$ where the length of $\bm{b}$ is $|V(G)|$ and $\bm{w}_G$ = $(w_G(x))^T_{x \in V(G)}$.
  If $\tilde{w}_G$ satisfies the weighting equation, then we have
  \[
    Z_G \tilde{\bm{w}}_G = \bm{b}
  \]
  Since $Z_G$ is invertible by \cref{invertible}, we have $\tilde{w}_G = w_G$
\end{proof}

This lemma shows that the weighting on a graph is unique and we use this frequently to compute the magnitude of graphs.


\subsection{Basic Properties and Examples}
Here we give the most basic facts about magnitude. We focus on transitive graphs, disjoint unions, catesian products, and how the magnitude behaves within $\mathbb{Z}[[q]]$.

\begin{definition}
  Let $G = (V(G), E(G)), H = (V(H), E(H))$ be a graph.
  An \textit{graph homomorphism} from $G$ to $H$ is a map $f : V(G) \rightarrow V(H)$ such that if $\{x,y\} \in E(G)$ then $\{f(x), f(y)\} \in E(H)$.
\end{definition}

We can define a \textit{graph automorphism} using the definition above. We denote the group of all graph automorphisms of a graph $G$ by $\aut(G)$. $\aut(G)$ includes $id_G$ and for $g,h \in \aut(G)$ and $x \in V(G)$, $g(h(x)) = (gh)(x)$, which means $\aut(G)$ acts on $V(G)$.
\begin{definition}
  A graph $G$ is \textit{vertex-transitive} if $\aut(G)$ acts transitively on $V(G)$.
  It says that for any vertices $x$ and $y$ of $G$, there exists an automorphism $g : G \rightarrow G$ such that $y = g(x)$.
\end{definition}

\begin{lemma}
  Let $G$ be a vertex-transitive graph.
  Then, 

  \[
    \# G(q) = \frac{|V(G)|}{\sum_{y \in V(G)} q^{d(x,y)}}
  \]

  for any vertex $x \in V(G)$.
\end{lemma}

\begin{proof}
  Let $S(x) = \sum_{y \in V(G)} q^{d(x,y)}$ for a vertex $x \in V(G)$. We show that $S(x)$ does not depend on the choice of $x$.  Take any vertices $a,b \in V(G)$.
  Since $G$ is vertex-transitive, there exists $g \in \aut(G)$ such that $b = g(a)$.
  Then,
  \[
    \begin{split}
      S(b) &= \sum_{y \in V(G)} q^{d(b,y)} \\
      &= \sum_{y \in V(G)} q^{d(g(a),y)} \\
      &= \sum_{y \in V(G)} q^{d(g(a), g(y))} \quad (\text{since } g \text{ is bijective}) \\
      &= \sum_{y \in V(G)} q^{d(a,y)} \quad (\text{since } g \text{ is an isomorphism})  \\
      &= S(a)
    \end{split}
  \]

  Thus, $S(x)$ does not depend on the choice of $x$, denoting it by $S$.
  Now, we define a function $\tilde{w}_G : V(G) \rightarrow \mathbb{Q}(q)$ by $\tilde{w}_G(x) = \frac{1}{S}$ for any vertex $x \in V(G)$.
  Then $\tilde{w}_G$ satisfies the weighting equation and by \cref{unique property on weighting equation}, we have $\# G = \frac{|V(G)|}{S}$.
  
\end{proof}


\begin{example}
  \begin{enumerate}[label=(\roman*)]
    \item $G = V_n$ (edgeless graph with $n$ vertices). Then, $\aut(G) \approx \mathfrak{S}_n$ and $G$ is vertex-transitive. $S = 1$ and we have $\# V_n = n$.
    \item $G = K_n$ (complete graph with $n$ vertices). Then, $\aut(G) \approx \mathfrak{S}_n$ and $G$ is vertex-transitive. $S = 1 + (n-1)q$ and we have $\# K_n = \frac{n}{1 + (n-1)q}$.
    \item $G = C_n$ (cycle graph with $n$ vertices). Then, $\aut(G) \approx D_{2n}$ and $G$ is vertex-transitive.
    If $n = 2m$(even), then $S = 1 + 2(q + q^2 + \cdots + q^{m-1}) + q^m = \frac{1 + q - q^m - q^{m+1}}{1 - q}$. Thus, we have $\# C_{2m} = \frac{2m(1-q)}{(1+q)(1-q^m)} = \frac{n(1-q)}{(1+q)(1-q^m)}$.
    If $n = 2m-1$(odd), then similarly $\# C_{2m-1} = \frac{n(1-q)}{1+q-2q^m}$.
    \item $G$ is a Petersen graph. Then, $\aut(G)$ contains $D_{10}$ as its subgroup and $G$ is vertex-transitive. $S = 1 + 3q + 6q^2$ and we have $\# G = \frac{10}{1 + 3q + 6q^2}$.
    \item $G = K_{m,n}$(complete bipartite graph). Then, $\aut(G) \approx \mathfrak{S}_m \times \mathfrak{S}_n$ if $m \neq n$ and $G$ is not vertex-transitive. You can calculate the magnitude as follows:
  \end{enumerate}
\end{example}










\subsection{The magnitude of union}








% Section 3
\newpage
\section{The Magnitude Homology of Graphs}
In this section, we define the magnitude homology of a graph $G$, give some very


\subsection{The Definition of the magnitude homology of graphs}


\subsection{Magnitude Homology of Graphs is Categorification of Magnitude of Graphs}

\subsection{u}









% Section 4
\newpage
\section{Motivation : The Magnitude of Enriched Categories}






% Bibliography (参考文献)
\newpage
\begin{thebibliography}{9}

\bibitem{Lamport94}
Leslie Lamport.
\textit{LaTeX: A Document Preparation System}.
Addison-Wesley, 2nd edition, 1994.

\bibitem{Knuth84}
Donald E. Knuth.
\textit{The TeXbook}.
Addison-Wesley, 1984.

\end{thebibliography}



% Appendix
\newpage
\appendix
\begin{proposition}
  Let $G = K_{n,n}$. Then, $\aut(G) \approx (\mathfrak{S}_n \times \mathfrak{S}_n) \rtimes_s \mathbb{Z}_2$, where $s : \mathbb{Z}_2 \rightarrow \aut(G); 0 \mapsto id_G, 1 \mapsto \tau$ and $\tau$ is the automorphism which interchanges the two parts of $K_{n,n}$.
\end{proposition}

\begin{proof}
  Now, 
  \[
    0 \rightarrow \mathfrak{S}_n \times \mathfrak{S}_n \xrightarrow{incl} \aut(G) \xrightarrow{s} \mathbb{Z}_2 \rightarrow 0
  \]
  is exact and this sequence splits. Thus, we have $\aut(G) \approx (\mathfrak{S}_n \times \mathfrak{S}_n) \rtimes_s \mathbb{Z}_2$.
\end{proof}




\end{document}
